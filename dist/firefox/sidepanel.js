import"./assets/modulepreload-polyfill-B5Qt9EMX.js";import{r as l,j as e,R as j}from"./assets/index-DZv3xrv-.js";import{T as v,a as N,B as k,S as d,t as s,R as E}from"./assets/index-GBB3cjU1.js";const w=()=>{const[a,n]=l.useState("job-app"),[m,x]=l.useState(null);l.useEffect(()=>{chrome.storage.local.get(["token"],t=>{t.token&&x(t.token)})},[]);const o=(t,r={})=>new Promise((p,i)=>{chrome.tabs.query({active:!0,currentWindow:!0},f=>{const c=f[0]?.id;if(!c){i(new Error("No active tab found"));return}chrome.tabs.sendMessage(c,{type:t,...r},y=>{chrome.runtime.lastError?(console.warn("Message error:",chrome.runtime.lastError),i(new Error("Could not connect to page. Refresh the page and try again."))):p(y)})})}),g=async()=>{const t=s.loading("Saving job application...");try{const r=await o("TRIGGER_SAVE_JOB");r&&r.success?s.success(r.message,{id:t}):s.error(r?.message||"Failed to save job",{id:t})}catch(r){console.error("Save job failed:",r),s.error(r.message||"Failed to save job",{id:t})}},u=async()=>{const t=s.loading("Analyzing job matching...");try{const r=await o("TRIGGER_ANALYZE_JOB");r&&r.success?s.success(r.message||"Analysis complete!",{id:t}):s.error(r?.message||"Analysis failed",{id:t})}catch(r){s.error(r.message,{id:t})}},b=async()=>{const t=s.loading("Tailoring resume for job...");try{const r=await o("TRIGGER_IMPROVE_RESUME");r&&r.success?s.success(r.message||"Improvement complete!",{id:t}):s.error(r?.message||"Improvement failed",{id:t})}catch(r){s.error(r.message,{id:t})}},h=async()=>{const t=s.loading("Extracting LinkedIn profile...");try{const r=await o("TRIGGER_EXTRACT_LINKEDIN");r&&r.success?s.success(r.message||"Profile extracted successfully!",{id:t}):s.error(r?.message||"Extraction failed",{id:t})}catch(r){s.error(r.message,{id:t})}};return e.jsxs("div",{className:"w-full min-h-screen bg-gray-900 flex flex-col font-sans",children:[e.jsx(v,{position:"bottom-center",theme:"dark",richColors:!0}),e.jsxs("header",{className:"p-4 bg-gray-900 border-b border-gray-800 flex justify-between items-center sticky top-0 z-10",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("h1",{className:"text-lg font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-teal-500",children:"Bhaikaamdo"})}),e.jsx("div",{className:"flex gap-2"})]}),e.jsxs("nav",{className:"flex px-4 pt-4 border-b border-gray-800 gap-6",children:[e.jsx("button",{onClick:()=>n("job-app"),className:`pb-3 text-sm font-medium transition-colors relative ${a==="job-app"?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-gray-200"}`,children:"Job Application"}),e.jsx("button",{onClick:()=>n("extract-linkedin"),className:`pb-3 text-sm font-medium transition-colors relative ${a==="extract-linkedin"?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-gray-200"}`,children:"Extract LinkedIn"}),e.jsx("button",{onClick:()=>n("config"),className:`pb-3 text-sm font-medium transition-colors relative ${a==="config"?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-gray-200"}`,children:"Authentication Token"})]}),e.jsxs("main",{className:"flex-1 p-4 overflow-y-auto",children:[a==="job-app"&&e.jsx("div",{className:"space-y-4",children:e.jsx("section",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 p-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg text-left transition-all border border-gray-600 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center text-emerald-400 group-hover:scale-110 transition-transform",children:e.jsx(N,{size:16})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-200",children:"Save Job"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Save to your profile"})]})]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 p-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg text-left transition-all border border-gray-600 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 group-hover:scale-110 transition-transform",children:e.jsx(k,{size:16})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-200",children:"Analyze Job"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Get insights & match score"})]})]}),e.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 p-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg text-left transition-all border border-gray-600 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/20 flex items-center justify-center text-purple-400 group-hover:scale-110 transition-transform",children:e.jsx(d,{size:16})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-200",children:"Improve Resume"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Tailor resume for this job"})]})]})]})})}),a==="extract-linkedin"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("section",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:"ðŸš€ Profile Extraction"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Extract your LinkedIn profile data to improve your career profile."}),e.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center gap-2 p-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-all shadow-lg shadow-emerald-900/20",children:[e.jsx(d,{size:18}),"Start Extraction"]})]})}),a==="config"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Authentication Token"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Server Token (Read Only)"}),e.jsx("input",{type:"text",id:"api-token",value:m||"",readOnly:!0,placeholder:"Token syncs automatically from bhaikaamdo.com",className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-400 focus:outline-none cursor-not-allowed",title:"Login on bhaikaamdo.com to update this token"})]})})]})})]}),e.jsx("footer",{className:"p-3 bg-gray-900 border-t border-gray-800 text-center",children:e.jsx("p",{className:"text-[10px] text-gray-600",children:"Bhaikaamdo v1.0"})})]})};E.createRoot(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(w,{})}));
